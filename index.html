<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Code to HTML Converter</title>
    <link rel="stylesheet" href="./styles.css" />
    <script
      defer
      src="https://cdnjs.cloudflare.com/ajax/libs/alpinejs/3.14.1/cdn.min.js"
      defer
    ></script>
    <script src="./app.js"></script>
  </head>
  <body>
    <div class="app" x-data="app()">
      <div class="header">
        <h1 class="header__heading">Code to HTML Converter</h1>
        <p class="header__description">
          Convert your code into beautiful HTML markup for static pages
        </p>
      </div>
      <div class="container">
        <link rel="stylesheet" :href="selectedThemeCssUrl" />
        <div class="inner">
          <div class="control-group">
            <div class="control-group__label">
              <label class="label" for="highlighter">Highlighter</label>
            </div>
            <select
              class="select"
              value="selectedHighlighter"
              @change="onHighlighterChange($event)"
            >
              <template
                x-for="highlighter in highlighters"
                :key="highlighter.id"
              >
                <option
                  :value="highlighter.id"
                  x-text="highlighter.name"
                ></option>
              </template>
            </select>
          </div>
          <div class="control-group">
            <div class="control-group__label">
              <label class="label" for="theme">Theme</label>
              <span class="css-size" x-text="cssSize">...</span>
            </div>
            <select class="select" x-model="selectedTheme">
              <template
                x-for="theme in currentHighlighter.themes"
                :key="theme.value"
              >
                <option
                  :value="theme.value"
                  :selected="theme.value === selectedTheme"
                  x-text="theme.name"
                ></option>
              </template>
            </select>
          </div>
          <div class="control-group">
            <div class="control-group__label">
              <label class="label" for="language">Language</label>
            </div>
            <select
              class="select"
              :value="selectedLanguage"
              @change="onLanguageChange($event)"
            >
              <template
                x-for="language in currentHighlighter.languages"
                :key="language.value + language.name"
              >
                <option
                  :value="language.value"
                  :selected="language.value === selectedLanguage"
                  x-text="language.name"
                ></option>
              </template>
            </select>
          </div>
        </div>

        <div class="code-blocks">
          <div class="code-blocks__column control-group">
            <div class="code-blocks__header">
              <label class="label code-blocks__label" for="input"
                >Input Code</label
              >
            </div>
            <textarea
              :value="inputCode"
              @input="onInputCodeChange($event)"
              class="code-blocks__content textarea"
              placeholder="Paste your code here..."
            ></textarea>
          </div>
          <div class="code-blocks__column control-group">
            <div class="code-blocks__header">
              <label class="label code-blocks__label" for="output"
                >Preview</label
              >
              <button
                class="copy-html"
                x-data="copyButton"
                @click="copy(highlightedCode)"
                x-text="isCopying ? 'Copied!' : 'Copy HTML'"
              ></button>
            </div>
            <div
              class="code-blocks__content preview"
              x-html="highlightedCode"
            ></div>
          </div>
        </div>

        <div class="inner">
          <div class="instructions">
            <h3 class="instructions__heading">
              ðŸ“‹ How to use the generated HTML
            </h3>
            <p class="instructions__description">
              To use the generated HTML markup in your page, you need to include
              the corresponding CSS theme file in your HTML document's head
              section:
            </p>

            <pre>
              <code x-text="cssInstructionText" x-init="">
                
              </code>
            </pre>
            <p class="instructions__description">
              Then simply paste your generated HTML markup wherever you want the
              code to appear in your page. The styling will be applied
              automatically!
            </p>
          </div>
        </div>
      </div>
    </div>
  </body>
</html>
