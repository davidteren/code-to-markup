<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Code to HTML Converter</title>
    <link rel="stylesheet" href="./styles.css" />
    <script type="module" src="./app.mjs"></script>
  </head>
  <body>
    <div class="app" x-data="app()">
      <div class="header">
        <h1 class="header__heading">Code to HTML Converter</h1>
        <p class="header__description">
          Convert your code into beautiful HTML markup for static pages
        </p>
      </div>
      <template x-if="ready">
        <div class="container">
          <link rel="stylesheet" :href="currentThemeCssUrl" />
          <div class="inner">
            <div class="control-group">
              <div class="control-group__label">
                <label class="label" for="highlighter">Highlighter</label>
              </div>
              <select
                class="select"
                value="selectedHighlighter"
                @change="onHighlighterChange($event)"
              >
                <template x-for="(highlighter, id) in highlighters" :key="id">
                  <option :value="id" x-text="highlighter.name"></option>
                </template>
              </select>
            </div>
            <div class="control-group">
              <div class="control-group__label">
                <label class="label" for="theme">Theme</label>
                <span class="css-size" x-text="cssSize">...</span>
              </div>
              <select
                class="select"
                :value="selectedTheme"
                @change="onThemeChange($event)"
              >
                <template
                  x-for="theme in currentHighlighter.themes"
                  :key="theme.value"
                >
                  <option
                    :value="theme.value"
                    :selected="theme.value === selectedTheme"
                    x-text="theme.name"
                  ></option>
                </template>
              </select>
            </div>
            <div class="control-group">
              <div class="control-group__label">
                <label class="label" for="language">Language</label>
              </div>
              <select
                class="select"
                :value="selectedLanguage"
                @change="onLanguageChange($event)"
              >
                <template
                  x-for="language in currentHighlighter.languages"
                  :key="language.value + language.name"
                >
                  <option
                    :value="language.value"
                    :selected="language.value === selectedLanguage"
                    x-text="language.name"
                  ></option>
                </template>
              </select>
            </div>
          </div>

          <div class="code-blocks">
            <div class="code-blocks__column control-group">
              <div class="code-blocks__header">
                <label class="label code-blocks__label" for="input"
                  >Input Code</label
                >
              </div>
              <textarea
                :value="inputCode"
                @input="onInputCodeChange($event)"
                class="code-blocks__content textarea"
                placeholder="Paste your code here..."
              ></textarea>
            </div>
            <div class="code-blocks__column control-group">
              <div class="code-blocks__header">
                <label class="label code-blocks__label" for="output"
                  >Preview</label
                >
                <button
                  class="button code-blocks__copy-button"
                  x-data="copyButton"
                  @click="copy(highlightedCode)"
                  x-text="isCopying ? 'Copied!' : 'Copy HTML'"
                ></button>
              </div>
              <div
                class="code-blocks__content preview"
                x-html="highlightedCode"
              ></div>
            </div>
          </div>

          <div class="inner">
            <div class="instructions">
              <h3 class="instructions__heading">
                ðŸ“‹ How to use the generated HTML
              </h3>
              <p class="instructions__description" x-show="cssStyles">
                To use the generated HTML markup in your page, you need to
                include the corresponding CSS theme file in your HTML document's
                head section:
              </p>

              <div class="instructions__code-container" x-show="cssStyles">
                <code class="instructions__code">
                  <span class="tag"
                    >&lt;<span class="name">link</span>
                    <span class="attr">rel</span>=<span class="string"
                      >"stylesheet"</span
                    >
                    <span class="attr">href</span>=<span class="string"
                      >"<span x-text="currentThemeCssUrl"></span>"</span
                    >&gt;</span
                  >
                </code>
                <button
                  class="button button_square instructions__copy-button"
                  x-data="copyButton"
                  @click="copy(cssStyles)"
                >
                  <svg
                    x-show="!isCopying"
                    fill="currentColor"
                    xmlns="http://www.w3.org/2000/svg"
                    width="20"
                    height="20"
                    viewBox="0 0 256 256"
                  >
                    <path
                      d="M216 28H88a12 12 0 0 0-12 12v36H40a12 12 0 0 0-12 12v128a12 12 0 0 0 12 12h128a12 12 0 0 0 12-12v-36h36a12 12 0 0 0 12-12V40a12 12 0 0 0-12-12Zm-60 176H52V100h104Zm48-48h-24V88a12 12 0 0 0-12-12h-68V52h104Z"
                    />
                  </svg>

                  <svg
                    x-show="isCopying"
                    fill="currentColor"
                    xmlns="http://www.w3.org/2000/svg"
                    width="20"
                    height="20"
                    viewBox="0 0 256 256"
                  >
                    <path
                      d="M176.49 95.51a12 12 0 0 1 0 17l-56 56a12 12 0 0 1-17 0l-24-24a12 12 0 1 1 17-17L112 143l47.51-47.52a12 12 0 0 1 16.98.03ZM236 128A108 108 0 1 1 128 20a108.12 108.12 0 0 1 108 108Zm-24 0a84 84 0 1 0-84 84 84.09 84.09 0 0 0 84-84Z"
                    />
                  </svg>
                </button>
              </div>
              <p class="instructions__description">
                <span x-text="cssStyles ? 'Then simply' : 'Simply'"></span>
                paste your generated HTML markup wherever you want the code to
                appear in your page. The styling will be applied automatically!
              </p>
            </div>
          </div>
        </div>
      </template>
    </div>
  </body>
</html>
